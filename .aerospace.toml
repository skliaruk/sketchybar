# ===============================================================================
# AEROSPACE CONFIGURATION FILE
# ===============================================================================
# Place a copy of this config to ~/.aerospace.toml
# After that, you can edit ~/.aerospace.toml to your liking
#
# Documentation: https://nikitabobko.github.io/AeroSpace/
# Available commands: https://nikitabobko.github.io/AeroSpace/commands
# ===============================================================================

# ===============================================================================
# STARTUP CONFIGURATION
# ===============================================================================

# Commands to run after login to macOS user session
# 'start-at-login' needs to be 'true' for 'after-login-command' to work
after-login-command = []

# Commands to run after AeroSpace startup
# 'after-startup-command' is run after 'after-login-command'
after-startup-command = ['exec-and-forget sketchybar']

exec-on-workspace-change = ['/bin/bash', '-c',
    'sketchybar --trigger aerospace_workspace_change FOCUSED_WORKSPACE=$AEROSPACE_FOCUSED_WORKSPACE'
]

# Start AeroSpace automatically when you log in
start-at-login = false


# ===============================================================================
# WINDOW MANAGEMENT BEHAVIOR
# ===============================================================================

# Normalizations help organize your windows automatically
# See: https://nikitabobko.github.io/AeroSpace/guide#normalization
enable-normalization-flatten-containers = true
enable-normalization-opposite-orientation-for-nested-containers = true

# Mouse follows focus when you switch between monitors
# Drop this if you don't like this behavior
on-focused-monitor-changed = ['move-mouse monitor-lazy-center']

# Prevent accidental hiding of applications with cmd-h
# Set to true if you accidentally hit cmd-h often
automatically-unhide-macos-hidden-apps = false


# ===============================================================================
# LAYOUT CONFIGURATION
# ===============================================================================

# Default layout for new workspaces
# Options: tiles | accordion
default-root-container-layout = 'tiles'

# Default orientation for new containers
# Options: horizontal | vertical | auto
# 'auto' = wide monitors get horizontal, tall monitors get vertical
default-root-container-orientation = 'auto'

# Accordion layout padding (set to 0 to disable)
accordion-padding = 30


# ===============================================================================
# KEYBOARD LAYOUT
# ===============================================================================

[key-mapping]
preset = 'qwerty'  # Options: qwerty | dvorak


# ===============================================================================
# GAPS AND SPACING
# ===============================================================================
# Configure spacing between windows and monitor edges
# You can set different values per monitor if needed

[gaps]
inner.horizontal = 8
inner.vertical   = 8
outer.left   = 8
outer.right  = 8
outer.bottom = 8
outer.top    = 45


# ===============================================================================
# MAIN KEYBINDINGS
# ===============================================================================
# This is the default mode where most of your shortcuts will work
# Meh = Ctrl+Alt+Shift, Hyper = Cmd+Ctrl+Alt+Shift

[mode.main.binding]

# -------------------------------------------------------------------------------
# WINDOW LAYOUTS
# -------------------------------------------------------------------------------

# Switch between different layout modes
ctrl-alt-shift-slash = 'layout tiles horizontal vertical'      # Toggle tiling layouts
ctrl-alt-shift-comma = 'layout accordion horizontal vertical'  # Toggle accordion layouts


# -------------------------------------------------------------------------------
# WINDOW FOCUS (NAVIGATION)
# -------------------------------------------------------------------------------
# Move focus between windows using vim-like keys (h,j,k,l)

ctrl-alt-shift-h = 'focus left'   # Focus window to the left
ctrl-alt-shift-j = 'focus down'   # Focus window below
ctrl-alt-shift-k = 'focus up'     # Focus window above
ctrl-alt-shift-l = 'focus right'  # Focus window to the right


# -------------------------------------------------------------------------------
# WINDOW MOVEMENT
# -------------------------------------------------------------------------------
# Move windows around using Hyper (Cmd+Ctrl+Alt+Shift) + vim keys

cmd-ctrl-alt-shift-h = 'move left'   # Move window left
cmd-ctrl-alt-shift-j = 'move down'   # Move window down
cmd-ctrl-alt-shift-k = 'move up'     # Move window up
cmd-ctrl-alt-shift-l = 'move right'  # Move window right


# -------------------------------------------------------------------------------
# WINDOW RESIZING
# -------------------------------------------------------------------------------

cmd-ctrl-alt-shift-minus = 'resize smart -50'  # Make window smaller
cmd-ctrl-alt-shift-equal = 'resize smart +50'  # Make window larger


# -------------------------------------------------------------------------------
# WORKSPACE NAVIGATION (Numbers 1-9)
# -------------------------------------------------------------------------------

alt-1 = 'workspace 1'
alt-2 = 'workspace 2'
alt-3 = 'workspace 3'
alt-4 = 'workspace 4'
alt-5 = 'workspace 5'
alt-6 = 'workspace 6'
alt-7 = 'workspace 7'
alt-8 = 'workspace 8'
alt-9 = 'workspace 9'


# -------------------------------------------------------------------------------
# MOVE WINDOWS TO WORKSPACES (Numbers 1-9)
# -------------------------------------------------------------------------------

alt-shift-1 = 'move-node-to-workspace 1'
alt-shift-2 = 'move-node-to-workspace 2'
alt-shift-3 = 'move-node-to-workspace 3'
alt-shift-4 = 'move-node-to-workspace 4'
alt-shift-5 = 'move-node-to-workspace 5'
alt-shift-6 = 'move-node-to-workspace 6'
alt-shift-7 = 'move-node-to-workspace 7'
alt-shift-8 = 'move-node-to-workspace 8'
alt-shift-9 = 'move-node-to-workspace 9'


# -------------------------------------------------------------------------------
# WORKSPACE & MONITOR UTILITIES
# -------------------------------------------------------------------------------

ctrl-alt-shift-tab       = 'workspace-back-and-forth'           # Switch to last workspace
cmd-ctrl-alt-shift-tab = 'move-workspace-to-monitor --wrap-around next'  # Move workspace to next monitor

ctrl-alt-shift-left = 'move-workspace-to-monitor left'
ctrl-alt-shift-right = 'move-workspace-to-monitor right'

cmd-ctrl-alt-shift-left = 'move-node-to-monitor left'
cmd-ctrl-alt-shift-right = 'move-node-to-monitor right'

# -------------------------------------------------------------------------------
# SERVICE MODE ACCESS
# -------------------------------------------------------------------------------
# Enter service mode for advanced operations

cmd-ctrl-alt-shift-semicolon = 'mode service'


# ===============================================================================
# SERVICE MODE KEYBINDINGS
# ===============================================================================
# This is a special mode for advanced window management operations
# Press Hyper+; to enter this mode, then use these shortcuts

[mode.service.binding]

# -------------------------------------------------------------------------------
# SERVICE MODE BASICS
# -------------------------------------------------------------------------------

esc = ['reload-config', 'mode main']                    # Reload config and exit service mode
r   = ['flatten-workspace-tree', 'mode main']          # Reset layout and exit service mode
f   = ['layout floating tiling', 'mode main']          # Toggle floating/tiling and exit
backspace = ['close-all-windows-but-current', 'mode main']  # Close all other windows


# -------------------------------------------------------------------------------
# ADVANCED WINDOW JOINING
# -------------------------------------------------------------------------------
# Join the current window with adjacent windows

cmd-ctrl-alt-shift-h = ['join-with left', 'mode main']   # Join with window on the left
cmd-ctrl-alt-shift-j = ['join-with down', 'mode main']   # Join with window below  
cmd-ctrl-alt-shift-k = ['join-with up', 'mode main']     # Join with window above
cmd-ctrl-alt-shift-l = ['join-with right', 'mode main']  # Join with window on the right


# -------------------------------------------------------------------------------
# VOLUME CONTROLS (while in service mode)
# -------------------------------------------------------------------------------

down       = 'volume down'              # Lower volume
up         = 'volume up'                # Raise volume  
shift-down = ['volume set 0', 'mode main']  # Mute and exit service mode


[workspace-to-monitor-force-assignment]

1 = 2
2 = 2
3 = 2
4 = 2
5 = 2
6 = 1
7 = 1
8 = 1
9 = 1   

# ===============================================================================
# QUICK START GUIDE FOR BEGINNERS
# ===============================================================================
#
# BASIC NAVIGATION (Meh Key):
# - Meh + h/j/k/l          → Move focus between windows (like vim)
# - Meh + 1/2/3...         → Switch to workspace 1/2/3...
# - Meh + Tab              → Switch to previous workspace
#
# MOVING WINDOWS (Hyper Key):
# - Hyper + h/j/k/l        → Move current window in that direction
# - Hyper + 1/2/3...       → Move window to workspace 1/2/3...
#
# LAYOUTS (Meh Key):
# - Meh + /                → Switch between tiling layouts
# - Meh + ,                → Switch to accordion layout
#
# RESIZING (Hyper Key):
# - Hyper + -              → Make window smaller
# - Hyper + =              → Make window bigger
#
# ADVANCED (Service Mode):
# - Hyper + ;              → Enter service mode for advanced operations
# - In service mode: r     → Reset layout, f → toggle floating, Esc → exit
#
# KEY COMBINATIONS USED:
# - Meh = Ctrl+Alt+Shift
# - Hyper = Cmd+Ctrl+Alt+Shift
#
# ===============================================================================
